version: '3.7'
services:
  mongo_db:
    container_name: db_mongo
    image: mongo
    networks:
      - micro

  configserver:
    container_name: api-configserver
    image: configserver
    ports:
        - 9997:9997
    networks:
      - micro

  discovery:
    container_name: api-discovery
    image: discovery
    ports:
        - 9999:9999
    networks:
      - micro

  gateway:
    container_name: api-gateway
    image: api-gateway
    ports:
        - 8080:8080
    networks:
      - micro

  banckaccount:
    container_name: api-banckaccount
    image: banckaccount
    ports:
        - 8081:8081
    networks:
      - micro

  accountmovement:
    container_name: api-accountmovement
    image: accountmovement
    ports:
        - 8083:8083
    networks:
      - micro

  banckcredit:
    container_name: api-banckcredit
    image: banckcredit
    ports:
        - 8082:8082
    networks:
      - micro

networks:
  micro:
    external: true
    name: net-micro